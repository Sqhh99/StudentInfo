<!-- 页头 -->
<header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
    <a href="/" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
             class="bi bi-mortarboard-fill me-2 text-primary" viewBox="0 0 16 16">
            <path d="M8.211 2.047a.5.5 0 0 0-.422 0l-7.5 3.5a.5.5 0 0 0 .025.917l7.5 3a.5.5 0 0 0 .372 0L14 7.14V13a1 1 0 0 0-1 1v2h3v-2a1 1 0 0 0-1-1V6.739l.686-.275a.5.5 0 0 0 .025-.917l-7.5-3.5Z"></path>
            <path d="M4.176 9.032a.5.5 0 0 0-.656.327l-.5 1.7a.5.5 0 0 0 .294.605l4.5 1.8a.5.5 0 0 0 .372 0l4.5-1.8a.5.5 0 0 0 .294-.605l-.5-1.7a.5.5 0 0 0-.656-.327L8 10.466 4.176 9.032Z"></path>
        </svg>
        <span class="fs-4 fw-bold">学生管理系统</span>
    </a>

    <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
        <li>
            <a href="{% url 'index' %}"
               class="nav-link px-2 {% if active_tab == 'index' %}link-secondary{% else %}link-dark{% endif %}">
                主页
            </a>
        </li>
        <li>
            <a href="{% url 'students' %}"
               class="nav-link px-2 {% if active_tab == 'students' %}link-secondary{% else %}link-dark{% endif %}">
                学生信息
            </a>
        </li>
        <li>
            <a href="{% url 'course_management' %}"
               class="nav-link px-2 {% if active_tab == 'course_management' %}link-secondary{% else %}link-dark{% endif %}">
                课程管理
            </a>
        </li>
        <li>
            <a href="{% url 'query_results' %}"
               class="nav-link px-2 {% if active_tab == 'query_results' %}link-secondary{% else %}link-dark{% endif %}">
                成绩查询
            </a>
        </li>
        <li>
            <a href="{% url 'about' %}"
               class="nav-link px-2 {% if active_tab == 'about' %}link-secondary{% else %}link-dark{% endif %}">
                关于
            </a>
        </li>
    </ul>

    <div class="col-md-3 text-end">
        {% if user.is_authenticated %}
            <div class="dropdown">
                <button class="btn btn-outline-primary dropdown-toggle" type="button" id="userDropdown"
                        data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-person-circle me-1"></i>{{ user.username }}
                </button>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                    <li><a class="dropdown-item" href="{% url 'profile' %}"><i
                            class="bi bi-person me-2"></i>个人信息</a></li>
                    {% if user.is_staff %}
                        <li><a class="dropdown-item" href="{% url 'admin:index' %}"><i class="bi bi-gear me-2"></i>管理后台</a>
                        </li>
                    {% endif %}
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li><a class="dropdown-item text-danger" href="{% url 'logout' %}"><i
                            class="bi bi-box-arrow-right me-2"></i>退出登录</a></li>
                </ul>
            </div>
        {% else %}
            <button type="button" class="btn btn-outline-primary me-2" onclick="location.href='{% url 'login' %}'">
                登录
            </button>
            <button type="button" class="btn btn-primary" onclick="location.href='{% url 'register' %}'">注册</button>
        {% endif %}
    </div>
</header>